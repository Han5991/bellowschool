/*!
 * Start Bootstrap - SB Admin 2 v4.1.3 (https://startbootstrap.com/theme/sb-admin-2)
 * Copyright 2013-2021 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

function TreeView(n,o,s){var a=this;if(void 0===n)throw new Error("Parameter 1 must be set (root)");if(!(n instanceof TreeNode))throw new Error("Parameter 1 must be of type TreeNode");if(o){if(!TreeUtil.isDOM(o)&&((o=document.querySelector(o))instanceof Array&&(o=o[0]),!TreeUtil.isDOM(o)))throw new Error("Parameter 2 must be either DOM-Object or CSS-QuerySelector (#, .)")}else o=null;function c(e){var t,n,o,i=document.createElement("li"),r=document.createElement("span");return r.className="tj_description",(r.tj_node=e).isEnabled()||(i.setAttribute("disabled",""),e.setExpanded(!1),e.setSelected(!1)),e.isSelected()&&r.classList.add("selected"),r.addEventListener("click",function(e){for(var t=e.target;void 0===t.tj_node||t.classList.contains("tj_container");)t=t.parentElement;var n=t.tj_node;void 0!==n&&n.isEnabled()&&(0==e.ctrlKey&&(n.isLeaf()?n.open():(n.toggleExpanded(),a.reload()),n.on("click")(e,n)),1==e.ctrlKey?n.toggleSelected():((e=n.getRoot())instanceof TreeNode&&TreeUtil.getSelectedNodesForNode(e).forEach(function(e){e.setSelected(!1)}),n.setSelected(!0)),a.reload())}),r.addEventListener("contextmenu",function(e){for(var t=e.target;void 0===t.tj_node||t.classList.contains("tj_container");)t=t.parentElement;var n=t.tj_node;void 0!==n&&(void 0!==n.getListener("contextmenu")?(n.on("contextmenu")(e,n),e.preventDefault()):"function"==typeof TreeConfig.context_menu&&(TreeConfig.context_menu(e,n),e.preventDefault()))}),e.isLeaf()&&!TreeUtil.getProperty(e.getOptions(),"forceParent",!1)?((t="")!=(n=TreeUtil.getProperty(e.getOptions(),"icon",""))||""!=(n=TreeUtil.getProperty(s,"leaf_icon",""))?t+='<span class="tj_icon">'+n+"</span>":t+='<span class="tj_icon">'+TreeConfig.leaf_icon+"</span>",r.innerHTML=t+e.toString()+"</span>",r.classList.add("tj_leaf"),i.appendChild(r)):(t="",e.isExpanded()?t+='<span class="tj_mod_icon">'+TreeConfig.open_icon+"</span>":t+='<span class="tj_mod_icon">'+TreeConfig.close_icon+"</span>",""!=(n=TreeUtil.getProperty(e.getOptions(),"icon",""))||""!=(n=TreeUtil.getProperty(s,"parent_icon",""))?t+='<span class="tj_icon">'+n+"</span>":t+='<span class="tj_icon">'+TreeConfig.parent_icon+"</span>",r.innerHTML=t+e.toString()+"</span>",i.appendChild(r),e.isExpanded()&&(o=document.createElement("ul"),e.getChildren().forEach(function(e){o.appendChild(c(e))}),i.appendChild(o))),i}s&&"object"==typeof s||(s={}),this.setRoot=function(e){n instanceof TreeNode&&(n=e)},this.getRoot=function(){return n},this.expandAllNodes=function(){n.setExpanded(!0),n.getChildren().forEach(function(e){TreeUtil.expandNode(e)})},this.expandPath=function(e){if(!(e instanceof TreePath))throw new Error("Parameter 1 must be of type TreePath");e.getPath().forEach(function(e){e.setExpanded(!0)})},this.collapseAllNodes=function(){n.setExpanded(!1),n.getChildren().forEach(function(e){TreeUtil.collapseNode(e)})},this.setContainer=function(e){if(TreeUtil.isDOM(e))o=e;else if((e=document.querySelector(e))instanceof Array&&(e=e[0]),!TreeUtil.isDOM(e))throw new Error("Parameter 1 must be either DOM-Object or CSS-QuerySelector (#, .)")},this.getContainer=function(){return o},this.setOptions=function(e){"object"==typeof e&&(s=e)},this.changeOption=function(e,t){s[e]=t},this.getOptions=function(){return s},this.getSelectedNodes=function(){return TreeUtil.getSelectedNodesForNode(n)},this.reload=function(){var t;null!=o?(o.classList.add("tj_container"),t=document.createElement("ul"),TreeUtil.getProperty(s,"show_root",!0)?t.appendChild(c(n)):n.getChildren().forEach(function(e){t.appendChild(c(e))}),o.innerHTML="",o.appendChild(t)):console.warn("No container specified")},void 0!==o&&this.reload()}function TreeNode(t,n){var o=new Array,i=new Array,r=!0,s=!0,a=!1;if(t){if("string"!=typeof t&&"function"!=typeof t.toString)throw new Error("Parameter 1 must be of type String or Object, where it must have the function toString()")}else t="";n&&"object"==typeof n?(r=TreeUtil.getProperty(n,"expanded",!0),s=TreeUtil.getProperty(n,"enabled",!0),a=TreeUtil.getProperty(n,"selected",!1)):n={},this.addChild=function(e){if(TreeUtil.getProperty(n,"allowsChildren",!0)){if(!(e instanceof TreeNode))throw new Error("Parameter 1 must be of type TreeNode");o.push(e),Object.defineProperty(e,"parent",{value:this,writable:!1,enumerable:!0,configurable:!0})}else console.warn("Option allowsChildren is set to false, no child added")},this.removeChildPos=function(e){void 0!==o[e]&&void 0!==o[e]&&o.splice(e,1)},this.removeChild=function(e){if(!(e instanceof TreeNode))throw new Error("Parameter 1 must be of type TreeNode");this.removeChildPos(this.getIndexOfChild(e))},this.getChildren=function(){return o},this.getChildCount=function(){return o.length},this.getIndexOfChild=function(e){for(var t=0;t<o.length;t++)if(o[t].equals(e))return t;return-1},this.getRoot=function(){for(var e=this;void 0!==e.parent;)e=e.parent;return e},this.setUserObject=function(e){if("string"!=typeof e||"function"!=typeof e.toString)throw new Error("Parameter 1 must be of type String or Object, where it must have the function toString()");t=e},this.getUserObject=function(){return t},this.setOptions=function(e){"object"==typeof e&&(n=e)},this.changeOption=function(e,t){n[e]=t},this.getOptions=function(){return n},this.isLeaf=function(){return 0==o.length},this.setExpanded=function(e){this.isLeaf()||"boolean"==typeof e&&r!=e&&(((r=e)?this.on("expand"):this.on("collapse"))(this),this.on("toggle_expanded")(this))},this.toggleExpanded=function(){r?this.setExpanded(!1):this.setExpanded(!0)},this.isExpanded=function(){return!!this.isLeaf()||r},this.setEnabled=function(e){"boolean"==typeof e&&s!=e&&(((s=e)?this.on("enable"):this.on("disable"))(this),this.on("toggle_enabled")(this))},this.toggleEnabled=function(){s?this.setEnabled(!1):this.setEnabled(!0)},this.isEnabled=function(){return s},this.setSelected=function(e){"boolean"==typeof e&&a!=e&&(((a=e)?this.on("select"):this.on("deselect"))(this),this.on("toggle_selected")(this))},this.toggleSelected=function(){a?this.setSelected(!1):this.setSelected(!0)},this.isSelected=function(){return a},this.open=function(){this.isLeaf()||this.on("open")(this)},this.on=function(e,t){if(void 0===t)return"function"!=typeof i[e]?function(){}:i[e];if("function"!=typeof t)throw new Error("Argument 2 must be of type function");i[e]=t},this.getListener=function(e){return i[e]},this.equals=function(e){return e instanceof TreeNode&&e.getUserObject()==t},this.toString=function(){return"string"==typeof t?t:t.toString()}}function TreePath(e,t){var n=new Array;this.setPath=function(e,t){for(n=new Array;void 0!==t&&!t.equals(e);)n.push(t),t=t.parent;if(!t.equals(e))throw n=new Array,new Error("Node is not contained in the tree of root");return n.push(e),n=n.reverse()},this.getPath=function(){return n},this.toString=function(){return n.join(" - ")},e instanceof TreeNode&&t instanceof TreeNode&&this.setPath(e,t)}const TreeUtil={default_leaf_icon:"<span>&#128441;</span>",default_parent_icon:"<span>&#128449;</span>",default_open_icon:"<span>&#9698;</span>",default_close_icon:"<span>&#9654;</span>",isDOM:function(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}},getProperty:function(e,t,n){return void 0===e[t]?n:e[t]},expandNode:function(e){e.setExpanded(!0),e.isLeaf()||e.getChildren().forEach(function(e){TreeUtil.expandNode(e)})},collapseNode:function(e){e.setExpanded(!1),e.isLeaf()||e.getChildren().forEach(function(e){TreeUtil.collapseNode(e)})},getSelectedNodesForNode:function(e){if(!(e instanceof TreeNode))throw new Error("Parameter 1 must be of type TreeNode");var t=new Array;return e.isSelected()&&t.push(e),e.getChildren().forEach(function(e){e.isSelected()&&-1==t.indexOf(e)&&t.push(e),e.isLeaf()||TreeUtil.getSelectedNodesForNode(e).forEach(function(e){-1==t.indexOf(e)&&t.push(e)})}),t}};var TreeConfig={leaf_icon:TreeUtil.default_leaf_icon,parent_icon:TreeUtil.default_parent_icon,open_icon:TreeUtil.default_open_icon,close_icon:TreeUtil.default_close_icon,context_menu:void 0};